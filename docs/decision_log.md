# Decision Log: Insurance CRM

> 프로젝트 진행 중 내린 주요 의사결정 기록

---

## 2026-02-14: 기술 스택 선정

### 결정
- **GUI**: tkinter / **DB**: SQLite / **빌드**: PyInstaller

### 이유
tkinter = 의존성 최소화, SQLite = 로컬 파일 기반, PyInstaller = 단일 exe

---

## 2026-02-14: MVP 범위 (Phase 1~5)

### 결정
핵심 CRUD + 검색 + 백업/복원으로 MVP 범위 한정

---

## 2026-02-14: 고객 확장 필드 (Phase 5~6)

### 결정
Customer 모델을 7필드 → 22필드로 확장 (의료/운전/직업/고지 정보)

### 이유
보험설계사 업무 특성상 유병 여부, 운전 형태, 고지 내용이 핵심 정보

---

## 2026-02-14: SELECT * 금지 (CRM-001)

### 결정
모든 SELECT 쿼리에서 명시적 컬럼 목록 사용

### 이유
ALTER TABLE로 추가된 컬럼은 테이블 끝에 배치되어 `SELECT *`의 컬럼 순서가 `from_db_row()` 기대 순서와 불일치. 운영 DB에서 고객 데이터 2건 손상 발생.

---

## 2026-02-14: 카드 번호 평문 저장 (Phase 6-2)

### 결정
카드 번호 16자리를 암호화 없이 평문 저장

### 이유
사용자 요청: 로컬 DB이므로 속도 우선. 향후 Phase 10에서 AES-256 옵션 추가 가능.

---

## 2026-02-14: 카드결제만 납부 관리 (Phase 6-2)

### 결정
납부 임박/연체 알림 및 자동 상태 갱신은 **카드결제(card) 계약만** 대상. 계좌이체(transfer)는 제외.

### 이유
계좌이체/자동이체는 자동으로 빠지므로 설계사가 별도 관리할 필요 없음. 카드결제만 수동 확인이 필요.

---

## 2026-02-15: 신용카드 전용 필터 + 연체 우선 정렬

### 결정
- 고객 목록에 `신용카드만 보기` 필터 추가
- `연체` 필터 선택 시 정렬을 **연체일수 큰 순 → 고객명 오름차순**으로 적용

### 이유
- 실제 행동 우선 운영에서 장기 연체 고객을 먼저 확인해야 계약 실효 위험을 빠르게 판단 가능
- 고객 요청 기준(연체 > 오늘 > 이번주 준비)과 UI 동작을 일치시킴

---

*Decision Log는 "왜 이렇게 했는가?"에 대한 답변을 제공합니다.*


## 2026-02-14: ?? ??? ????? ?? ?? (V3.0)

### ??
?? API ???? ???? ??, UI?? ?? ????? ?????/??? ????.

### ??
??? ???? ???? ??? ?? ??? ???? ??.

